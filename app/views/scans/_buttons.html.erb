<%
  if !scan.scanning? && scan.status.to_s.ends_with?( 'ing' )
    return
  end
%>

<% if scan.active? %>
    <% if scan.paused? %>
        <%= render partial: 'scans/buttons/resume', locals: { scan: scan } %>
    <% elsif !scan.cleanup? %>
        <%= render partial: 'scans/buttons/pause', locals: { scan: scan } %>
        <%= render partial: 'scans/buttons/suspend', locals: { scan: scan } %>
    <% end %>

    <% if !scan.cleanup? %>
      <%= render partial: 'scans/buttons/abort', locals: { scan: scan } %>
    <% end %>

    <%= render partial: 'scans/buttons/edit', locals: { scan: scan } %>
<% end %>

<% if scan.finished? %>
    <%= render partial: 'scans/buttons/repeat', locals: { scan: scan } %>
    <%= render partial: 'scans/buttons/edit', locals: { scan: scan } %>
    <%= render partial: 'scans/buttons/delete', locals: { scan: scan } %>
<% end %>

<% if scan.suspended? %>
    <%= render partial: 'scans/buttons/restore', locals: { scan: scan } %>
    <%= render partial: 'scans/buttons/delete', locals: { scan: scan } %>
<% end %>

<% if !scan.status %>
    <%= render partial: 'scans/buttons/edit', locals: { scan: scan } %>
    <%= render partial: 'scans/buttons/delete', locals: { scan: scan } %>
<% end %>
